<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PERWER Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            perwer: {
              DEFAULT: '#F2D01D', // main yellow
              dark: '#FFC107',
              light: '#FFF9C4',
            },
          },
        },
      },
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body class="bg-perwer-light min-h-screen font-sans">
  <!-- Header -->
  <header class="bg-perwer shadow-lg py-6 px-4">
    <div class="max-w-5xl mx-auto flex flex-col items-center">
      <h1 class="text-3xl font-bold text-gray-900 tracking-wide">PERWER Dashboard</h1>
      <p class="text-lg text-gray-700 mt-2">Energy Monitoring & AI System</p>
    </div>
  </header>

  <!-- Log & AI Section -->
  <section class="max-w-5xl mx-auto mt-8 px-4 flex flex-col md:flex-row gap-6">
    <!-- Logs Window -->
    <div class="flex-1 bg-gray-900 rounded-xl shadow-lg p-4 overflow-y-auto h-56 min-h-[14rem]">
      <h2 class="text-perwer font-semibold text-lg mb-2 flex items-center"><span class="mr-2">ğŸ“</span>Logs Window</h2>
      <pre id="logs-window" class="text-sm text-gray-100 font-mono leading-relaxed"></pre>
    </div>
    <!-- AI Predictions Panel -->
    <div class="flex-1 bg-gray-900 rounded-xl shadow-lg p-4 min-h-[14rem]">
      <h2 class="text-perwer-dark font-semibold text-lg mb-2 flex items-center"><span class="mr-2">ğŸ¤–</span>AI Predictions</h2>
      <ul class="space-y-3">
        <li class="bg-perwer-light rounded-lg px-3 py-2 text-gray-800 flex items-center"><span class="mr-2">ğŸ”‹</span>Predicted Battery Depletion Time: <span class="font-bold ml-1">3.5h</span></li>
        <li class="bg-perwer-light rounded-lg px-3 py-2 text-gray-800 flex items-center"><span class="mr-2">ğŸŒ</span>Solar Expected Output Next Hour: <span class="font-bold ml-1">920 W</span></li>
        <li class="bg-perwer-light rounded-lg px-3 py-2 text-gray-800 flex items-center"><span class="mr-2">ğŸ“Œ</span>Recommended Action: <span class="font-bold ml-1">Switch to solar priority</span></li>
      </ul>
    </div>
  </section>

  <!-- Data Cards Grid -->
  <section class="max-w-5xl mx-auto mt-8 px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
    <!-- Generator Card -->
    <div class="bg-white rounded-xl shadow-lg p-5 flex flex-col items-start">
      <div class="flex items-center mb-2">
        <span class="bg-perwer-dark rounded-full p-2 mr-2">ğŸ”Œ</span>
        <span class="text-lg font-semibold text-gray-800">Generator</span>
      </div>
      <div class="flex items-center mb-2">
        <span id="generator-status-indicator" class="w-3 h-3 rounded-full mr-2" style="background:#22c55e"></span>
        <span id="generator-status" class="font-mono text-sm">OFF</span>
      </div>
      <div class="text-gray-700 text-sm">Uptime: <span id="generator-uptime" class="font-bold">12.4</span> h</div>
    </div>
    <!-- Grid Card -->
    <div class="bg-white rounded-xl shadow-lg p-5 flex flex-col items-start">
      <div class="flex items-center mb-2">
        <span class="bg-perwer-dark rounded-full p-2 mr-2">ğŸ”‹</span>
        <span class="text-lg font-semibold text-gray-800">Grid</span>
      </div>
      <div class="flex items-center mb-2">
        <span id="grid-status-indicator" class="w-3 h-3 rounded-full mr-2" style="background:#22c55e"></span>
        <span id="grid-status" class="font-mono text-sm">ON</span>
      </div>
      <div class="text-gray-700 text-sm">Uptime: <span id="grid-uptime" class="font-bold">24.5</span> h</div>
    </div>
    <!-- Solar PV Card -->
    <div class="bg-white rounded-xl shadow-lg p-5 flex flex-col items-start">
      <div class="flex items-center mb-2">
        <span class="bg-perwer-dark rounded-full p-2 mr-2">ğŸŒ</span>
        <span class="text-lg font-semibold text-gray-800">Solar PV</span>
      </div>
      <div class="text-gray-700 text-sm">Current: <span id="pv-current" class="font-bold">35.2</span> A</div>
      <div class="text-gray-700 text-sm">Voltage: <span id="pv-voltage" class="font-bold">24.8</span> V</div>
      <div class="text-gray-700 text-sm">Power: <span id="pv-power" class="font-bold">890</span> W</div>
    </div>
    <!-- Battery Card -->
    <div class="bg-white rounded-xl shadow-lg p-5 flex flex-col items-start">
      <div class="flex items-center mb-2">
        <span class="bg-perwer-dark rounded-full p-2 mr-2">ğŸ”‹</span>
        <span class="text-lg font-semibold text-gray-800">Battery</span>
      </div>
      <div class="text-gray-700 text-sm">Current: <span id="battery-current" class="font-bold">45.2</span> A</div>
      <div class="text-gray-700 text-sm">Voltage: <span id="battery-voltage" class="font-bold">25.6</span> V</div>
      <div class="text-gray-700 text-sm">SOC: <span id="battery-soc" class="font-bold">72</span> %</div>
      <div class="text-gray-700 text-sm">SOH: <span id="battery-soh" class="font-bold">95</span> %</div>
    </div>
    <!-- Load Card -->
    <div class="bg-white rounded-xl shadow-lg p-5 flex flex-col items-start">
      <div class="flex items-center mb-2">
        <span class="bg-perwer-dark rounded-full p-2 mr-2">âš¡</span>
        <span class="text-lg font-semibold text-gray-800">Load</span>
      </div>
      <div class="text-gray-700 text-sm">Current: <span id="load-current" class="font-bold">12.4</span> A</div>
      <div class="text-gray-700 text-sm">Voltage: <span id="load-voltage" class="font-bold">230</span> V</div>
      <div class="text-gray-700 text-sm">Power: <span id="load-power" class="font-bold">2.4</span> W</div>
    </div>
    <!-- Environment Card -->
    <div class="bg-white rounded-xl shadow-lg p-5 flex flex-col items-start">
      <div class="flex items-center mb-2">
        <span class="bg-perwer-dark rounded-full p-2 mr-2">ğŸŒ¡ï¸</span>
        <span class="text-lg font-semibold text-gray-800">Environment</span>
      </div>
      <div class="text-gray-700 text-sm">Temperature: <span id="env-temp" class="font-bold">28</span> Â°C</div>
    </div>
  </section>

  <!-- JS for mock state and dynamic updates -->
  <script type="module" src="dynamic.js"></script>
  <script type="module" src="data.js"></script>
</body>
</html>